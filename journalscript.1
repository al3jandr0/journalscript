.\" Automatically generated by Pandoc 3.0.1
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "journalscript" "1" "FEBRUARY 2023" "" "Journalscript Manual"
.hy
.SH NAME
.PP
journalscript - an interactive command line journaling tool
.SH SYNOPSIS
.PP
journalscript
.PP
journalscript \f[V]COMMAND [ARG...]\f[R]
.PP
journalscript \f[V][--help|-v|--verions]\f[R]
.SH DESCRIPTION
.PP
Journalscript is an interactive journaling tool for the command line.
.PP
It allows users to manage multiple journals, and it organizes them in
directories.
Each directory corresponds to a journal.
Journal entries are stored in journal directories, and each entry is
name as the current date (i.e.\ \f[V]2023-02-14.txt\f[R])
.PP
Journalscript is highly configurable.
However it requires no configuration upfront; its default behavior is
sufficient and functional.
.SH OPTIONS
.TP
\f[V]-v\f[R], \f[V]--version\f[R]\ 
Prints version information and quits.
.TP
\f[V]--help\f[R]\ 
Prints usage statement and quits.
.SH COMMANDS
.SS write [journal]
.PP
Writes a new entry to the journal.
If no journal is provided, it writes to the default journal.
Journals are stored as directories and each journal entry is a file in
the journal directory.
Each journal entry corresponds to a day, and their name is formated:
YYYY-mm-dd.
.PP
The command creates new files if they don\[cq]t exists, and it copies a
template into them if template is configured.
Then it executes an open hook in order edit the the new journal entry
(or an existing one).
If no open hook exists, it defaults to use the launching the configured
editor.
Once the user closes the editor, journalscript invokes a backup hook if
any exists.
.PP
\f[B]TEMPLATES\f[R]
.PP
Journalscript looks for templates in the following locations:
.IP "1." 3
A template specific to the editor.
Any template file under \f[V]/templates/tempate.d/\f[R] with name
matching the editor
.IP "2." 3
The default template \f[V]/templates/template\f[R]
.PP
In case no other template is found, the fall back behavior is to write
the the current date on the first line of the journal entry.
.SS configure [show|init]
.PP
Assists with the configuration of journalscript.
When configure is invoked with no arguments it defaults to show.
.PP
\f[B]show\f[R]\ 
.PP
Displays the configuration parameters (also referred as environment
variables) along with its assigned values, and quits.
.PP
\f[B]init\f[R]\ 
.PP
Launches an interactive wizard that helps the user setting up a
journalscript configuration
.SH RETURN VALUE
.PP
Returns 1 in case of error.
Otherwise returns 0.
.SH ENVIRONMENT
.TP
JOURNALSCRIPT_FILE_TYPE\ 
Sets the file name extension.
Defaults \f[V]txt\f[R]
.TP
JOURNALSCRIPT_EDITOR\ 
Sets the editor journalscript uses to open files.
.TP
JOURNALSCRIPT_JOURNAL_DIR\ 
The directory where journals will be located.
.TP
JOURNALSCRIPT_TEMPLATE_DIR\ 
The directory where journalscript sources templates.
.TP
JOURNALSCRIPT_DEFAULT_JOURNAL\[rs]
When journalscript wire is invoked without arguments, it writes to the
default journal.
Its default value is \f[V]life\f[R]
.SH FILES
.SS Hooks
.PP
\f[B]HOOKS\f[R]
.PP
Journalscript leverages hooks to allow users to customize editing and
backing up journal entries.
By default, journalscript opens a journal entry using the configured
editor (JOURNALSCRIPT_EDITOR), and it takes no action to backup entries.
However, by configuring an \f[B]open hook\f[R], users can customize both
the choice of editor and the arguments passed to the editor, and by
configuring a \f[B]backup hook\f[R], users tell journalscript to run a
backup routine upon exiting the editor.
.PP
Hooks directory structure
.IP
.nf
\f[C]
<config root>/hooks/
             |----- open.d/     # stores editor specific hooks
             |----- open        # default open hook
             |----- backup.d/   # stores backup tool specific hooks
             |----- backup      # default backup hook
\f[R]
.fi
.PP
Journalscript looks for an open hook in this order:\ 
.IP "1." 3
A hook specific to the configured editor.
Any file under \f[V]/hooks/open.d/\f[R]\ 
.IP "2." 3
The default hook \f[V]/hooks/open\f[R]
.PP
Journalscript looks for backup hook in this order:\ 
.IP "1." 3
A hook specific to the configured editor.
Any file under \f[V]/hooks/backup.d/\f[R]\ 
.IP "2." 3
The default hook \f[V]/hooks/backup\f[R]
.SH EXAMPLES
